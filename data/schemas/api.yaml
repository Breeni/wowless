---
name: api
type:
  record:
    name:
      required: true
      type: string
    protection:
      type:
        oneof:
        - literal: hardware
        - literal: secure
    returns:
      type:
        sequenceof: any
    signatures:
      type:
        sequenceof:
          record:
            inputs:
              type:
                sequenceof:
                  record:
                    default:
                      type: any
                    innerType:
                      type: string
                    mixin:
                      type: string
                    name:
                      type: string
                    nilable:
                      type: boolean
                    type:
                      required: true
                      type:
                        oneof:
                        - literal: bool
                        - literal: number
                        - literal: string
                        - literal: table
                        - literal: unknown
                        - ref: structure
            oldinputs:
              type:
                sequenceof: string
            outputs:
              type:
                sequenceof:
                  record:
                    default:
                      type: any
                    innerType:
                      type: string
                    mixin:
                      type: string
                    name:
                      type: string
                    nilable:
                      type: boolean
                    type:
                      required: true
                      type:
                        oneof:
                        - literal: bool
                        - literal: nil
                        - literal: number
                        - literal: oneornil
                        - literal: string
                        - literal: table
                        - literal: unknown
                        - ref: structure
    states:
      type:
        sequenceof:
          oneof:
          - literal: env
          - ref: state
    status:
      required: true
      type:
        oneof:
        - literal: autogenerated
        - literal: implemented
        - literal: stub
        - literal: unimplemented
    versions:
      type:
        enumset:
          nonempty: true
          values:
          - Mainline
          - TBC
          - Vanilla
